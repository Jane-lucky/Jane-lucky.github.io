---
title: go 语言基础——面向对象
categories: 
- [golang, go语言基础]
tags:
- golang
---

## 面向对象

**文字描述：**

通过const定义了一些常量，然后定义了一些自定义类型

- Color作为byte的别名
- 定义了一个struct:Box，含有三个长宽高字段和一个颜色属性
- 定义了一个slice:BoxList，含有Box

然后以上面的自定义类型为接收者定义了一些method

- Volume()定义了接收者为Box，返回Box的容量
- SetColor(c Color)，把Box的颜色改为c
- BiggestColor()定在在BoxList上面，返回list里面容量最大的颜色
- PaintItBlack()把BoxList里面所有Box的颜色全部变成黑色
- String()定义在Color上面，返回Color的具体颜色(字符串格式)

定义SetColor的真正目的是想改变这个Box的颜色，如果不传Box的指针，那么SetColor接受的其实是Box的一个copy，也就是说method内对于颜色值的修改，其实只作用于Box的copy，而不是真正的Box。所以我们需要传入指针。

## 继承

如果匿名字段实现了一个method，那么包含这个匿名字段的struct也可以调用method.

```go
package main

import "fmt"

type Human struct {
	name string
	age  int
}

type Student struct {
	Human
	school string
}

type Company struct {
	Human
	conpany string
}

func (h Human) SayHi() {
	fmt.Println("Hi", h.name)
}

func main() {
	tony := Student{Human{name: "tony", age: 12}, "MTA"}
	Mark := Company{Human{name: "Mark", age: 22}, "TA"}

	tony.SayHi()
	Mark.SayHi()
}
```



## 重写

重新定义一个相同的mrthod，重新写匿名字段的方法。

```go
package main

import "fmt"

type Human struct {
	name string
	age  int
}

type Student struct {
	Human
	school string
}

type Company struct {
	Human
	conpany string
}

func (h Human) SayHi() {
	fmt.Println("Hi", h.name)
}

func (e *Company) SayHi() {
	e.conpany = "TB"
}

func main() {
	tony := Student{Human{name: "tony", age: 12}, "MTA"}
	Mark := Company{Human{name: "Mark", age: 22}, "TA"}

	tony.SayHi()
	Mark.SayHi()
	fmt.Println(Mark.conpany)
}
```

