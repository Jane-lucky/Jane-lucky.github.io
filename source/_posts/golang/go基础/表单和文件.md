---
title: go 语言基础——表单和文件
categories: 
- [golang, go语言基础]
tags:
- golang
---

# 1

# 表单的实例


```go
package main

import (
	"fmt"
	"html/template"
	"log"
	"net/http"
)

func sayhelloName(w http.ResponseWriter, r *http.Request) {
	fmt.Fprintf(w, "Hello")
}

func login(w http.ResponseWriter, r *http.Request) {
	fmt.Println("method", r.Method)
	if r.Method == "GET" {
		t, _ := template.ParseFiles("login.gtpl")
		log.Println(t.Execute(w, nil))
	} else {
		err := r.ParseForm()
		if err != nil {
			log.Fatal("ParseForm:", err)
		}
		fmt.Println("username:", r.Form["username"])
		fmt.Println("password:", r.Form["password"])
	}
}
func main() {
	http.HandleFunc("/", sayhelloName)

	http.HandleFunc("/login", login)

	http.ListenAndServe(":8080", nil)
}

```

```html
<!DOCTYPE html>
<html>
    <head>
        <title></title>
    </head>
    <body>


        <form action="/login" method="post">

            用户名:<input type="text" name="username">
            密码:<input type="password" name="password">
            
            <input type="submit" value="登陆">
        </form>
        #文件上传
        <form enctype="multipart/form-data" action="/upload" method="post">
  <input type="file" name="uploadfile" />
  <input type="hidden" name="token" value="{{.}}"/>
  <input type="submit" value="upload" />
</form>

    </body>
</html>
```

